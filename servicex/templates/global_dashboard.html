{% extends "base.html" %}

{% from 'requests_table.html' import requests_table, requests_table_update_script %}

{% block content %}

  <div>
    <div class="content-section">
      <div class="row justify-content-between align-items-center">
        <h4 class="mb-3 col-auto">Transformation Requests</h4>
        <div class="dropdown col-auto">
          <button class="btn btn-sm btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Sort: <b>{{ active_sort.title() }} ({{ active_order }})</b>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              {% for sort, order in dropdown_options %}
                <a href="?sort={{ sort }}&order={{ order }}" class="dropdown-item">{{ sort.title() }} ({{ order }})</a>
              {% endfor %}
          </div>
        </div>
      </div>

      {{ requests_table(pagination, humanize) }}
    </div>
  </div>

{% endblock %}

{% block scripts %}
  {{ super() }}
  {{ requests_table_update_script(pagination) }}
{% endblock %}
